<div class="container">
  <header>
    <h1>Student Orders Management</h1>
    <p class="subtitle">Manage students and their orders efficiently</p>
  </header>

  <main class="grid">
    <section class="panel students-panel">
      <app-student-list
        #studentList
        (studentSelected)="onStudentSelected($event)"
      ></app-student-list>
      <app-student-form
        (studentCreated)="studentList.onStudentCreated($event)"
      ></app-student-form>
    </section>

    <section class="panel orders-panel">
      @if (selectedStudent()) {
        <div class="panel-header">
          <h2>Orders for {{ selectedStudent()!.name }}</h2>
          <div class="student-info">
            <span class="badge">{{ selectedStudent()!.grade }}</span>
            <span class="school-name">{{ selectedStudent()!.school }}</span>
          </div>
        </div>
        <app-order-list
          #orderList
          [studentId]="selectedStudent()!.id!"
        ></app-order-list>
        <app-order-form
          [studentId]="selectedStudent()!.id!"
          (orderCreated)="orderList.onOrderCreated($event)"
        ></app-order-form>
      } @else {
        <div class="empty-state-main">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="64"
            height="64"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
            <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
          </svg>
          <h3>No Student Selected</h3>
          <p>Select a student from the left panel to view and manage their orders</p>
        </div>
      }
    </section>
  </main>
</div>
